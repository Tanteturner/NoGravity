[
    {
      "function": "minecraft:set_nbt",
      "tag": "{BlockStateTag:{lit:\"false\"}}",
      "conditions": [
        {
          "condition": "minecraft:entity_properties",
          "entity": "this",
          "predicate": {
            "nbt": "{Inventory:[{Slot:9b,id:\"minecraft:campfire\"}]}",
            "stepping_on": {
              "biome": "minecraft:end_highlands",
              "feature": "buried_treasure",
              "dimension": "minecraft:the_nether",
              "light": {
                "light": -1
              },
              "smokey": true
            },
            "player": {
              "gamemode": "survival"
            }
          }
        }
      ]
    },
    {
      "function": "minecraft:set_nbt",
      "tag": "{CanPlaceOn:[\"#game:allblocks\"],HideFlags:16}"
    }
  ]